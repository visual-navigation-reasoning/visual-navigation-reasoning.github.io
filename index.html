<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Reasonning in visual navigation</title>

    <!-- Core theme CSS (includes Bootstrap)-->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>

    <link href="css/custom_styles.css" rel="stylesheet"/>
    <!-- FontAwesome CDN  -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet"/>

    <!-- MathJax -->
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
        .section-title {
            font-size: 2.25rem;
            color: #0D6EFD;
            border-bottom: 1px solid #C0C0C0;
            border-radius: 0.5rem;
            margin-top: 10px;
            margin-bottom: 10px;
            width: 100%;
            padding-left: 10px;
        }
        .slider-block label {
            font-size: 12px;
            color: #333;
            padding-right: 5px;
        }


        .main-slider-container label {
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }


        .highlight{
            width: 90%;
            font-size: 1.5rem;
            text-align: center;
            padding-top: 20px;
            padding-bottom: 20px;
            margin: auto;
            border: 2px solid #0D6EFD;
            border-radius: 20px;
            background-color: white;
            filter : drop-shadow(5px 5px 5px rgba(0,0,0,0.5));
        }



    </style>


</head>
<body>
<!-- Responsive navbar-->
<nav class="navbar navbar-expand-lg" style="background-color: #0a53be">
    <div class="container ">
        <a class="navbar-brand text-white" href="#">Reasonning in Visual Navigation</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span
                class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse " id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 ">
                <li class="nav-item "><a class="nav-link active text-white" aria-current="page" href="#">Home</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="#abstract">Abstract</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-white" id="navbarDropdown" href="#" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">Results</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#dynamical-agent">Dynamical agent</a></li>
                        <li><a class="dropdown-item" href="#prediction-or-correction">Prediction vs. Correction</a></li>
                        <li><a class="dropdown-item" href="#occupancy-map">Occupancy maps</a></li>
                        <li><a class="dropdown-item" href="#cost-map">Cost heatmaps</a></li>
                        <li><a class="dropdown-item" href="#shapley-value">Shapley values</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link text-white" href="#">Cite</a></li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page content-->
<div class="container">
    <div class="text-center mt-5">
        <h1>Reasoning in Visual Navigation of End-to-end Trained Agents:</h1>
        <h2 style="margin-bottom: 25px">A Dynamical Systems Approach</h2>
        <p class="lead">
            <a href="https://steevenjanny.github.io/">Steeven Janny</a>,
            <a href="https://scholar.google.fr/citations?user=sgfiHI8AAAAJ&hl=fr">Hervé Poirier</a>,
            <a href="https://scholar.google.com/citations?user=gKGYfP4AAAAJ&hl=en">Leonid Antsfeld</a>,
            <a href="https://scholar.google.com/citations?user=MkNg3H0AAAAJ&hl=fr">Guillaume Bono</a>,
            <a href="https://scholar.google.co.uk/citations?user=t7MzKqIAAAAJ&hl=en">Gianluca Monaci</a>,
            <a href="https://scholar.google.com/citations?user=V7EJdOcAAAAJ&hl=en">Boris Chidlovskii</a>,
            <a href="https://fgiuliari.github.io/">Francesco Giuliari</a>,
            <a href="https://scholar.google.com/citations?user=LUzvbGIAAAAJ&hl=en">Alessio Del Bue</a>,
            <a href="https://chriswolfvision.github.io/www/">Christian Wolf</a>
        </p>
        <div class="row">
            <div class="col-4"></div>
            <div class="col btn btn-primary">
                <i class="fas fa-file-pdf fa-2x"></i>
                <span>PDF (coming soon)</span>
            </div>
            <div class="col-4"></div>
        </div>
    </div>
</div>

<br/>
<br/>

<!-- Abstract -->
<div class="container mt-5" id="abstract">
    <p class="section-title">Abstract</p>
    <p style="padding-left:15px">
        Progress in Embodied AI has made it possible for end-to-end-trained agents to navigate in photo-realistic
        environments with high-level reasoning and zero-shot or language-conditioned behavior, but evaluations and
        benchmarks are still dominated by simulation. In this work, we focus on the fine-grained behavior of fast-moving
        real robots and present a large-scale experimental study involving 262 navigation episodes in a real
        environment with a physical robot, where we analyze the type of reasoning emerging from end-to-end training. In
        particular, we study the presence of realistic dynamics which the agent learned for open-loop forecasting, and
        their interplay with sensing. We analyze the way the agent uses latent memory to hold elements of the scene
        structure and information gathered during exploration. We probe the planning capabilities of the agent, and find
        in its memory evidence for somewhat precise plans over a limited horizon. Furthermore, we show in a post-hoc
        analysis that the value function learned by the agent relates to long-term planning. Put together, our
        experiments paint a new picture on how using tools from computer vision and sequential decision making have led
        to new capabilities in robotics and control.
    </p>

</div>

<!-- Dynamical Agent -->
<div class="container mt-5" id="dynamical-agent">
    <p class="section-title">Dynamical Agent</p>
    <div class="pt-2">

        <p>
            Conversely to the classical "<i>teleportation</i>" approach, the navigation agent is trained
            <b>end-to-end</b> in simulation with a <b>dynamical model</b> of the behavior of the real robot.
        </p>

        <div class="highlight">
            The end-to-end agent interacts with a dynamical model for realistic motion.
        </div>
    </div>

    <iframe src="iframes/dynamic_agent/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>


    <p class="mt-3">
        We reproduce the work from <a
            href="https://openaccess.thecvf.com/content/CVPR2024/html/Bono_Learning_to_Navigate_Efficiently_and_Precisely_in_Real_Environments_CVPR_2024_paper.html">Bono
        et al.</a>
        and substantially improved their performance through <b>longer training time</b>, <b>better angle
        representation</b> and <b>data augmentation</b>.
    </p>
    <div class="highlight">
        Simulated dynamics greatly improves navigation in real world.
    </div>


    <iframe src="iframes/video_real/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>

    <div class="table-hover table table-responsive mt-5">
        <table class="table text-center">
            <thead class="thead-light">
            <tr style="background-color: #d3d3d3;">
                <th scope="col" rowspan="2"><strong>Method &amp; action space</strong></th>
                <th scope="col" rowspan="2" style=" border-right: 1px solid gray"><strong>+dyn (train)</strong></th>
                <th colspan="3" style="background-color: #ffcc80; border-right: 1px solid gray"><strong>Sim (+dyn.)
                    HM3D/2.5k</strong></th>
                <th colspan="3" style="background-color: #ffcc80; border-right: 1px solid gray"><strong>Sim (+dyn.)
                    office</strong></th>
                <th colspan="3" style="background-color: #c8e6c9;"><strong>Real office</strong></th>
            </tr>
            <tr style="background-color: #d3d3d3;">
                <th style="background-color: #ffcc80;"><strong>SR</strong></th>
                <th style="background-color: #ffcc80;"><strong>SPL</strong></th>
                <th style="background-color: #ffcc80; border-right: 1px solid gray"><strong>SCT</strong></th>
                <th style="background-color: #ffcc80;"><strong>SR</strong></th>
                <th style="background-color: #ffcc80;"><strong>SPL</strong></th>
                <th style="background-color: #ffcc80; border-right: 1px solid gray"><strong>SCT</strong></th>
                <th style="background-color: #c8e6c9;"><strong>SR</strong></th>
                <th style="background-color: #c8e6c9;"><strong>SPL</strong></th>
                <th style="background-color: #c8e6c9;"><strong>SCT</strong></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><strong>D4</strong></td>
                <td style=" border-right: 1px solid gray">No</td>
                <td>29.1%</td>
                <td>18.1%</td>
                <td style=" border-right: 1px solid gray">2.0%</td>
                <td>10.0%</td>
                <td>7.3%</td>
                <td style=" border-right: 1px solid gray">0.9%</td>
                <td>0.0%</td>
                <td>0.0%</td>
                <td>0.0%</td>
            </tr>
            <tr>
                <td><strong>D28-instant</strong></td>
                <td style=" border-right: 1px solid gray">No</td>
                <td>27.6%</td>
                <td>11.6%</td>
                <td style=" border-right: 1px solid gray">5.0%</td>
                <td>25.0%</td>
                <td>11.1%</td>
                <td style=" border-right: 1px solid gray">5.8%</td>
                <td>10.0%</td>
                <td>5.3%</td>
                <td>1.7%</td>
            </tr>
            <tr>
                <td><strong>D28-dynamics</strong></td>
                <td style=" border-right: 1px solid gray">Yes</td>
                <td><strong>97.6%</strong></td>
                <td><strong>82.3%</strong></td>
                <td style=" border-right: 1px solid gray"><strong>52.5%</strong></td>
                <td><strong>100.0%</strong></td>
                <td><strong>82.1%</strong></td>
                <td style=" border-right: 1px solid gray"><strong>64.5%</strong></td>
                <td><strong>92.5%</strong></td>
                <td><strong>61.1%</strong></td>
                <td><strong>22.4%</strong></td>
            </tr>
            </tbody>
        </table>
    </div>

    <iframe src="iframes/video_sim/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>
</div>


<div class="container mt-5" id="prediction-or-correction">
    <p class="section-title">Prediction vs. Correction</p>

    <p>
        To navigate effectively, an agent can either rely solely on sensory inputs or use a learned dynamics model,
        integrating each step with feedback from prior actions. It’s believed that trained navigation agents combine
        both approaches through a prediction-correction process similar to a Kalman filter, where predictions from a
        dynamics model are adjusted with sensory feedback.
    </p>

    <div class="highlight">
        Dynamics agent uses a prediction-correction scheme to estimate its current pose.
    </div>

    <iframe src="iframes/pred_vs_corr/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>
</div>


<div class="container mt-1" id="occupancy-map">
    <p class="section-title">Occupancy map</p>

    <p>
        We probed the existence of <b>local occupancy map</b> in a square area of 3x3 meters around the agent.
    </p>

    <div class="highlight">
        The internal state contains the local occupancy map of the environment.
    </div>

    <iframe src="iframes/occupancy_map/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>

</div>


<div class="container mt-5" id="cost-map">
    <p class="section-title">Action rating in real navigation</p>

    <p>
        We used an expert to rate the actions of the agent in real navigation episodes based on Fast Marching
        Method.
        By observing how the scores changes from one step to another, we can identify difficult part of the path.
        Moreover,
        we can aggregate this information spatially and discover challenging areas within the environment.

    </p>

    <div class="highlight">
        Real robot navigates well, but struggles on narrow paths and dead ends.
    </div>


    <iframe src="iframes/action_scoring/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>


</div>


<div class="container mt-5" id="shapley-value">
    <p class="section-title">Shapley values</p>

    <p>
        We use Shapley values to understand the importance of each inputs in the agent's decision-making process.
        Shapley values are a method from cooperative game theory that assigns a value to each player in a game based
        on their contribution to the game's outcome.
    </p>

    <div class="highlight">
        Policy relies mostly on pose sensing and structured vision to navigate.
    </div>


    <iframe src="iframes/shapley/index.html" class="iframe-dynamic" width="100%" frameborder="0"></iframe>

</div>

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

<script>
    function getDocHeight(doc) {
        doc = doc || document;
        // stackoverflow.com/questions/1145850/
        var body = doc.body, html = doc.documentElement;
        var height = Math.max( body.scrollHeight, body.offsetHeight,
            html.clientHeight, html.scrollHeight, html.offsetHeight );
        return height;
    }

    function setIframeHeight(ifrm) {
        var doc = ifrm.contentDocument? ifrm.contentDocument:
            ifrm.contentWindow.document;
        ifrm.style.visibility = 'hidden';
        ifrm.style.height = "10px"; // reset to minimal height ...
        // IE opt. for bing/msn needs a bit added or scrollbar appears
        ifrm.style.height = getDocHeight( doc ) + 4 + "px";
        ifrm.style.visibility = 'visible';
    }


    const iframes = document.getElementsByClassName('iframe-dynamic')

    for (let i = 0; i < iframes.length; i++) {
        iframes[i].onload = function() {
            setIframeHeight(this);
        }
    }

</script>

<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>